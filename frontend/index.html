<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <!-- Th√™m meta viewport t·ªëi ∆∞u cho mobile -->
    <meta name="viewport" content="width=device-width, initial-scale=0.5, user-scalable=yes, viewport-fit=cover">

    <!-- Th√™m theme color cho mobile browsers -->
    <meta name="theme-color" content="#667eea">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">

    <title>CHAM-PHONG</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap&subset=vietnamese" rel="stylesheet">

    <link rel="stylesheet" href="style_form.css">
    <link rel="stylesheet" href="style_main.css">
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="mobile-responsive.css">

</head>

<body>
    <!-- HEADER -->
    <header class="header">
        <link rel="icon" type="image/x-icon" href="favicon.ico">
        <div class="logo">
            <img src="images/ktxCM.png" alt="ktx C√† Mau" style="width:70px; height:70px;">
            <img src="images/NongLam.png" alt="ƒê·∫°i h·ªçc N√¥ng L√¢m" style="width:70px; height:70px; margin-left:10px;">
        </div>
        <h1 id="pageHeading">CH·∫§M PH√íNG</h1>
    </header>

    <div>
        <section>
            <nav class="mainNav">
                <ul>
                    <li><a href="#" class="active">Trang ch·ªß</a></li>
                    <li><a href="#" id="chamPhongLink">Ch·∫•m ph√≤ng</a></li>
                    <li><a href="#">Li√™n h·ªá</a></li>
                </ul>
            </nav>
        </section>
    </div>

    <!-- MAIN CONTENT -->
    <main>            
        <!-- Function Tabs -->
        <div class="function-tabs">
            <nav class="tabs-nav">
                <button data-tab="notes">Ghi ch√∫</button>
                <button data-tab="weeklyStats">Th·ªëng k√™ tu·∫ßn</button>
                <button data-tab="monthlyStats">Th·ªëng k√™ th√°ng</button>
                <button data-tab="violations">Truy v·∫•n ƒëi·ªÉm tr·ª´</button>
                <button data-tab="ranking">X·∫øp h·∫°ng</button>
            </nav>
        </div>
        <div class="dashboard-content"></div>
        <div class="main-container">

            <!-- Content Area -->
            <div class="content-area">
                <!-- Tab: Student List -->
                <section id="student-list" class="tab-content active">
                    <div class="excel-container">
                        <!-- Controls Bar -->
                        <div class="controls-bar">
                            <input type="text" id="searchInput" class="search-input" placeholder="T√¨m ki·∫øm theo MSSV, t√™n ho·∫∑c ph√≤ng...">
                            <select id="roomFilter">    
                                <option value="">T·∫•t c·∫£ ph√≤ng</option>
                            </select>
                            <select id="floorFilter">
                                <option value="">T·∫•t c·∫£ t·∫ßng</option>
                                <option value="0">T·∫ßng 0</option>
                                <option value="1">T·∫ßng 1</option>
                                <option value="2">T·∫ßng 2</option>
                                <option value="3">T·∫ßng 3</option>
                            </select>
                            <button onclick="resetFilters()">X√≥a b·ªô l·ªçc</button>
                            <button onclick="exportData()">Xu·∫•t Excel</button>
                        </div>

                        <!-- Stats Bar -->
                        <div class="stats-bar">
                            <div class="stat-item">
                                <span>T·ªïng SV:</span>
                                <span class="stat-number" id="totalStudents">0</span>
                            </div>
                            <div class="stat-item">
                                <span>T·ªïng ph√≤ng:</span>
                                <span class="stat-number" id="totalRooms">0</span>
                            </div>
                            <div class="stat-item">
                                <span>TB SV/ph√≤ng:</span>
                                <span class="stat-number" id="avgStudents">0</span>
                            </div>
                            <div class="stat-item">
                                <span>ƒê√£ l·ªçc:</span>
                                <span class="stat-number" id="filteredCount">0</span>
                            </div>
                        </div>

                        <!-- Excel-like Table -->
                        <div class="excel-table-wrapper">
                            <table class="excel-table">
                                <thead>
                                    <tr>
                                        <th class="col-stt">STT</th>
                                        <th class="col-mssv">MSSV</th>
                                        <th class="col-name">H·ªå V√Ä T√äN</th>
                                        <th class="col-room">PH√íNG</th>
                                        <th class="col-floor">T·∫¶NG</th>
                                    </tr>
                                </thead>
                                <tbody id="studentTableBody">
                                    <tr class="loading">
                                        <td colspan="17">ƒêang t·∫£i d·ªØ li·ªáu...</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </section>

                <!-- Tab: Room Overview -->
                <section id="room-overview" class="tab-content">
                    <div class="tab-panel">
                        <h3>üè† T·ªïng quan ph√≤ng k√Ω t√∫c x√°</h3>
                        <div class="stats-grid">
                            <div class="stat-card">
                                <span class="stat-card-number" id="occupiedRooms">0</span>
                                <div class="stat-card-label">Ph√≤ng c√≥ ng∆∞·ªùi ·ªü</div>
                            </div>
                            <div class="stat-card">
                                <span class="stat-card-number" id="emptyRooms">0</span>
                                <div class="stat-card-label">Ph√≤ng tr·ªëng</div>
                            </div>
                            <div class="stat-card">
                                <span class="stat-card-number" id="fullRooms">0</span>
                                <div class="stat-card-label">Ph√≤ng ƒë·∫ßy (8 ng∆∞·ªùi)</div>
                            </div>
                            <div class="stat-card">
                                <span class="stat-card-number" id="occupancyRate">0%</span>
                                <div class="stat-card-label">T·ª∑ l·ªá l·∫•p ƒë·∫ßy</div>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Tab: Statistics -->
                <section id="statistics" class="tab-content">
                    <div class="tab-panel">
                        <h3>üìä Th·ªëng k√™ chi ti·∫øt</h3>
                        <div class="empty-state">
                            <p>Ch·ª©c nƒÉng th·ªëng k√™ s·∫Ω ƒë∆∞·ª£c ph√°t tri·ªÉn trong phi√™n b·∫£n ti·∫øp theo.</p>
                        </div>
                    </div>
                </section>

                <!-- Tab: Attendance -->
                <section id="attendance" class="tab-content">
                    <div class="tab-panel">
                        <h3>‚úÖ ƒêi·ªÉm danh sinh vi√™n</h3>
                        <div class="empty-state">
                            <p>Ch·ª©c nƒÉng ƒëi·ªÉm danh s·∫Ω ƒë∆∞·ª£c ph√°t tri·ªÉn trong phi√™n b·∫£n ti·∫øp theo.</p>
                        </div>
                    </div>
                </section>

                <!-- Tab: Reports -->
                <section id="reports" class="tab-content">
                    <div class="tab-panel">
                        <h3>üìë B√°o c√°o</h3>
                        <div class="empty-state">
                            <p>Ch·ª©c nƒÉng b√°o c√°o s·∫Ω ƒë∆∞·ª£c ph√°t tri·ªÉn trong phi√™n b·∫£n ti·∫øp theo.</p>
                        </div>
                    </div>
                </section>

                <!-- Tab: Management -->
                <section id="management" class="tab-content">
                    <div class="tab-panel">
                        <h3>‚öôÔ∏è Qu·∫£n l√Ω h·ªá th·ªëng</h3>
                        <div class="empty-state">
                            <p>Ch·ª©c nƒÉng qu·∫£n l√Ω s·∫Ω ƒë∆∞·ª£c ph√°t tri·ªÉn trong phi√™n b·∫£n ti·∫øp theo.</p>
                        </div>
                    </div>
                </section>
            </div>
        </div>
    </main>
    
    <!-- Firebase Scripts -->
    <script src="https://www.gstatic.com/firebasejs/10.12.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.12.0/firebase-firestore-compat.js"></script>
    
    <!-- Custom Scripts -->
    <script src="scripts/firebase-config.js"></script>
    <script src="scripts/dashboard.js"></script>
    <script src="scripts/notes.js"></script>
    <script src="login.js"></script>
    <script src="scripts/touch-interactions.js"></script>
</body>
</html>